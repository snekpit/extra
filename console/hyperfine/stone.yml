name        : hyperfine
version     : 1.18.0
release     : 1
upstreams   :
    - https://github.com/sharkdp/hyperfine/archive/refs/tags/v1.18.0.tar.gz : fea7b92922117ed04b9c84bb9998026264346768804f66baa40743c5528bed6b
homepage    : https://github.com/sharkdp/hyperfine
license     :
    - Apache-2.0
    - MIT
component   : system.utils
networking  : yes
summary     : A command-line benchmarking tool
description : |
    A command-line benchmarking tool.
builddeps   :
    - binary(cargo)
environment : |
    # FIXME, rust hacks
    export HOME=$(pwd)
    export CARGO_HTTP_CAINFO=/usr/share/defaults/etc/ssl/certs/ca-certificates.crt
setup       : |
    cargo fetch --locked
build       : |
    cargo build --frozen --release
install     : |
    %install_bin target/release/hyperfine
    %install_file doc/hyperfine.1 %(installroot)/usr/share/man/man1/hyperfine.1
    %install_file target/release/build/hyperfine-*/out/hyperfine.bash %(installroot)/usr/share/bash-completion/completions/hyperfine
    %install_file target/release/build/hyperfine-*/out/_hyperfine %(installroot)/usr/share/zsh/site-functions/_hyperfine
    %install_file target/release/build/hyperfine-*/out/hyperfine.fish %(installroot)/usr/share/fish/vendor_completions.d/hyperfine.fish
check       : |
    cargo test --all
